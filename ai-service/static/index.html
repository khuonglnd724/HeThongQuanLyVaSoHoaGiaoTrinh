<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Service - Syllabus Management</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ü§ñ AI Service</h1>
            <p>Syllabus Management & Digitalization System</p>
        </header>

        <!-- Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="suggest">G·ª£i √ù</button>
            <button class="tab-btn" data-tab="chat">Chat</button>
            <button class="tab-btn" data-tab="diff">So S√°nh</button>
            <button class="tab-btn" data-tab="clo-check">Ki·ªÉm tra CLO-PLO</button>
            <button class="tab-btn" data-tab="summary">T√≥m T·∫Øt</button>
            <button class="tab-btn" data-tab="jobs">C√¥ng Vi·ªác</button>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <!-- Suggest Tab -->
            <div id="suggest" class="tab-content active">
                <h2>G·ª£i √ù N·ªôi Dung Gi√°o Tr√¨nh</h2>
                <form id="suggestForm">
                    <div class="form-group">
                        <label for="suggestSyllabusId">ID Gi√°o Tr√¨nh:</label>
                        <input type="text" id="suggestSyllabusId" placeholder="e.g., sys123" required>
                    </div>
                    <div class="form-group">
                        <label for="suggestSection">M·ª•c (tu·ª≥ ch·ªçn):</label>
                        <input type="text" id="suggestSection" placeholder="e.g., objectives">
                    </div>
                    <div class="form-group">
                        <label for="suggestText">N·ªôi Dung (tu·ª≥ ch·ªçn):</label>
                        <textarea id="suggestText" rows="5" placeholder="Nh·∫≠p n·ªôi dung gi√°o tr√¨nh..."></textarea>
                    </div>
                    <button type="submit" class="btn-primary">G·ª≠i Y√™u C·∫ßu</button>
                </form>
                <div id="suggestResult" class="result"></div>
            </div>

            <!-- Chat Tab -->
            <div id="chat" class="tab-content">
                <h2>AI Assistant - Chat</h2>
                <div id="chatHistory" class="chat-history"></div>
                <form id="chatForm" class="chat-form">
                    <div class="form-group">
                        <label for="chatSyllabusId">ID Gi√°o Tr√¨nh (tu·ª≥ ch·ªçn):</label>
                        <input type="text" id="chatSyllabusId" placeholder="e.g., sys123">
                    </div>
                    <div class="form-group">
                        <label for="chatMessage">Tin Nh·∫Øn:</label>
                        <input type="text" id="chatMessage" placeholder="Nh·∫≠p c√¢u h·ªèi..." required>
                    </div>
                    <button type="submit" class="btn-primary">G·ª≠i</button>
                </form>
            </div>

            <!-- Diff Tab -->
            <div id="diff" class="tab-content">
                <h2>So S√°nh Phi√™n B·∫£n Gi√°o Tr√¨nh</h2>
                <form id="diffForm">
                    <div class="form-group">
                        <label for="diffSyllabusId">ID Gi√°o Tr√¨nh:</label>
                        <input type="text" id="diffSyllabusId" placeholder="e.g., sys123" required>
                    </div>
                    <div class="form-group">
                        <label for="diffBaseVersion">Phi√™n B·∫£n C∆° B·∫£n:</label>
                        <input type="text" id="diffBaseVersion" placeholder="e.g., v1.0" required>
                    </div>
                    <div class="form-group">
                        <label for="diffTargetVersion">Phi√™n B·∫£n ƒê√≠ch:</label>
                        <input type="text" id="diffTargetVersion" placeholder="e.g., v2.0" required>
                    </div>
                    <button type="submit" class="btn-primary">So S√°nh</button>
                </form>
                <div id="diffResult" class="result"></div>
            </div>

            <!-- CLO-PLO Check Tab -->
            <div id="clo-check" class="tab-content">
                <h2>Ki·ªÉm Tra T√≠nh Nh·∫•t Qu√°n CLO-PLO</h2>
                <form id="cloCheckForm">
                    <div class="form-group">
                        <label for="cloCheckSyllabusId">ID Gi√°o Tr√¨nh:</label>
                        <input type="text" id="cloCheckSyllabusId" placeholder="e.g., sys123" required>
                    </div>
                    <div class="form-group">
                        <label for="cloCheckClos">Danh S√°ch CLO (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y):</label>
                        <input type="text" id="cloCheckClos" placeholder="e.g., CLO1, CLO2, CLO3" required>
                    </div>
                    <div class="form-group">
                        <label for="cloCheckPlos">Danh S√°ch PLO (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y):</label>
                        <input type="text" id="cloCheckPlos" placeholder="e.g., PLO1, PLO2, PLO3" required>
                    </div>
                    <button type="submit" class="btn-primary">Ki·ªÉm Tra</button>
                </form>
                <div id="cloCheckResult" class="result"></div>
            </div>

            <!-- Summary Tab -->
            <div id="summary" class="tab-content">
                <h2>T√≥m T·∫Øt N·ªôi Dung Gi√°o Tr√¨nh</h2>
                <form id="summaryForm">
                    <div class="form-group">
                        <label for="summarySyllabusId">ID Gi√°o Tr√¨nh:</label>
                        <input type="text" id="summarySyllabusId" placeholder="e.g., sys123" required>
                    </div>
                    <div class="form-group">
                        <label for="summaryVersion">Phi√™n B·∫£n (tu·ª≥ ch·ªçn):</label>
                        <input type="text" id="summaryVersion" placeholder="e.g., v1.0">
                    </div>
                    <button type="submit" class="btn-primary">T√≥m T·∫Øt</button>
                </form>
                <div id="summaryResult" class="result"></div>
            </div>

            <!-- Jobs Tab -->
            <div id="jobs" class="tab-content">
                <h2>Theo D√µi C√¥ng Vi·ªác</h2>
                <div class="form-group">
                    <label for="jobId">Job ID:</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="jobId" placeholder="Nh·∫≠p job ID t·ª´ k·∫øt qu·∫£...">
                        <button onclick="checkJobStatus()" class="btn-primary">Ki·ªÉm Tra</button>
                    </div>
                </div>
                <div id="jobsResult" class="result"></div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>API Endpoint: <code>http://localhost:8000/api</code></p>
            <p><a href="http://localhost:8000/docs" target="_blank">üìö Swagger UI</a> | 
               <a href="http://localhost:15672" target="_blank">üê∞ RabbitMQ</a> | 
               <a href="http://localhost:8089" target="_blank">üîç Kafka UI</a></p>
        </footer>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator hidden">
        <div class="spinner"></div>
        <p>ƒêang x·ª≠ l√Ω...</p>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
